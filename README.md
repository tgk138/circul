# Telegram бот для создания кружочков из видео

Бот принимает ссылку на видео, скачивает его, нарезает на отрезки 5-15 секунд и отправляет обратно в виде круглых видеозаметок (кружочков).

## Требования

- Python 3.10 или выше
- FFmpeg (должен быть установлен в системе и доступен через PATH)

### Установка FFmpeg

**Windows:**
1. Скачайте FFmpeg с [официального сайта](https://ffmpeg.org/download.html)
2. Распакуйте архив
3. Добавьте папку `bin` в переменную окружения PATH
4. Проверьте установку: `ffmpeg -version`

**Linux:**
```bash
sudo apt update
sudo apt install ffmpeg
```

**macOS:**
```bash
brew install ffmpeg
```

## Установка

1. Клонируйте репозиторий или скачайте файлы проекта

2. Создайте виртуальное окружение:
```bash
python -m venv venv
```

3. Активируйте виртуальное окружение:

   **Windows:**
   ```bash
   venv\Scripts\activate
   ```

   **Linux/macOS:**
   ```bash
   source venv/bin/activate
   ```

4. Установите зависимости:
```bash
pip install -r requirements.txt
```

5. Создайте файл `.env` в корне проекта:
```env
BOT_TOKEN=your_bot_token_here
```

   Чтобы получить токен:
   - Откройте Telegram и найдите [@BotFather](https://t.me/BotFather)
   - Отправьте команду `/newbot`
   - Следуйте инструкциям для создания бота
   - Скопируйте полученный токен в файл `.env`

## Использование

1. Убедитесь, что виртуальное окружение активировано

2. Запустите бота:
```bash
python bot.py
```

3. Откройте Telegram и найдите вашего бота

4. Отправьте боту ссылку на видео (YouTube, TikTok, Instagram и другие платформы, поддерживаемые yt-dlp)

5. Бот скачает видео, нарежет на отрезки по 10 секунд и отправит их обратно в виде кружочек

## Ограничения

- Максимальная длительность одного кружочка: 60 секунд
- Максимальный размер файла: 10 МБ
- Разрешение видео: 640x640 пикселей (квадратное)

## Структура проекта

```
Кружочки/
├── bot.py                 # Основной файл бота
├── video_processor.py     # Обработка видео
├── config.py             # Конфигурация
├── requirements.txt      # Зависимости
├── .env                  # Токен бота (не коммитить!)
├── .gitignore
├── README.md
└── temp_videos/          # Временные файлы (создаётся автоматически)
```

## Примечания

- Временные файлы автоматически удаляются после обработки
- Если видео слишком большое, бот автоматически оптимизирует размер файла
- Все операции выполняются асинхронно для лучшей производительности

